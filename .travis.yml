# In order to be able to install the NLopt package, we need to use the "beta"
# Ubntu 14.04 ("trusty") build environment. This also needs to have "sudo: required".
# (https://docs.travis-ci.com/user/trusty-ci-environment/)

sudo: required
dist: trusty

language: cpp
compiler: gcc
os:
- linux

addons:
  apt:
    packages:
    - libfftw3-dev
    - libcfitsio3-dev
    - libgsl0-dev
    - libnlopt-dev

script: 
  - scons --no-openmp makeimage
  - scons --no-openmp imfit

after_success:
  - ./do_makeimage_tests
  - ./do_imfit_tests

